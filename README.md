# λ³µμ§€μ©κµ¬ RAG μ±—λ΄‡ ν”„λ΅μ νΈ

λ³µμ§€μ©κµ¬ κ΄€λ ¨ κ³µμ§€μ‚¬ν•­κ³Ό λ²•λ Ήμλ£λ¥Ό ν¬λ΅¤λ§ν•κ³ , ν…μ¤νΈν™”ν•μ—¬ RAG(Retrieval-Augmented Generation) κΈ°λ° μ±—λ΄‡μΌλ΅ μ κ³µν•λ” ν”„λ΅μ νΈμ…λ‹λ‹¤.

## π—οΈ ν”„λ΅μ νΈ κµ¬μ΅°

```
webcr/
β”β”€β”€ π“± μ±—λ΄‡ μ•±
β”‚   β”β”€β”€ app.py          # κΈ°λ³Έ RAG μ±—λ΄‡
β”‚   β”β”€β”€ app1.py         # μ„±λ¥ μµμ ν™” λ²„μ „
β”‚   β”β”€β”€ app2.py         # ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ λ²„μ „
β”‚   β”β”€β”€ app3.py         # μ„Ήμ… μΈμ§€ + μ²­ν¬ λ²λ“¤λ§ λ²„μ „
β”‚   β””β”€β”€ appμ±—λ΄‡.md      # μ±—λ΄‡ μ•± λ°μ „ κ³Όμ • μƒμ„Έ μ„¤λ…
β”β”€β”€ π•·οΈ ν¬λ΅¤λ§ μ½”λ“
β”‚   β”β”€β”€ crawlers/
β”‚   β”‚   β”β”€β”€ req2.py     # λ³µμ§€μ©κµ¬ κ³µμ§€μ‚¬ν•­ ν¬λ΅¤λ¬
β”‚   β”‚   β”β”€β”€ req3.py     # λ³µμ§€μ©κµ¬ λ²•λ Ήμλ£μ‹¤ ν¬λ΅¤λ¬
β”‚   β”‚   β””β”€β”€ ...
β”‚   β”β”€β”€ req2ν¬λ΅¤λ¬.md   # κ³µμ§€μ‚¬ν•­ ν¬λ΅¤λ¬ μƒμ„Έ μ„¤λ…
β”‚   β””β”€β”€ req3ν¬λ΅¤λ¬.md   # λ²•λ Ήμλ£μ‹¤ ν¬λ΅¤λ¬ μƒμ„Έ μ„¤λ…
β”β”€β”€ π“„ ν…μ¤νΈ μ¶”μ¶
β”‚   β”β”€β”€ good_all.py     # PDF/HWP ν…μ¤νΈ μ¶”μ¶ λ©”μΈ μ¤ν¬λ¦½νΈ
β”‚   β””β”€β”€ good_allν…μ¤νΈμ¶”μ¶.md  # ν…μ¤νΈ μ¶”μ¶ νμ΄ν”„λΌμΈ μƒμ„Έ μ„¤λ…
β”β”€β”€ π“ λ°μ΄ν„° νμΌ
β”‚   β”β”€β”€ rag_input_sample.json      # κ³µμ§€μ‚¬ν•­ ν…μ¤νΈν™” κ²°κ³Ό
β”‚   β”β”€β”€ rag_input_sample1.json    # λ²•λ Ήμλ£μ‹¤ ν…μ¤νΈν™” κ²°κ³Ό
β”‚   β””β”€β”€ noin3_data.json           # noin3.pdf ν…μ¤νΈν™” κ²°κ³Ό
β””β”€β”€ π“ κΈ°νƒ€
    β”β”€β”€ attachments/               # κ³µμ§€μ‚¬ν•­ μ²¨λ¶€νμΌ
    β”β”€β”€ attachments1/              # λ²•λ Ήμλ£μ‹¤ μ²¨λ¶€νμΌ
    β””β”€β”€ vectorstore/               # FAISS λ²΅ν„° μΈλ±μ¤
```

## π€ μ£Όμ” κΈ°λ¥

### 1. **μ±—λ΄‡ μ‹μ¤ν…** (`app.py` β†’ `app3.py`)
- **app.py**: κΈ°λ³Έ RAG μ±—λ΄‡ (FAISS + GPT-4)
- **app1.py**: μ„±λ¥ μµμ ν™” (μ‹±κΈ€ν†¤, MMR κ²€μƒ‰, λ‚ μ§ μ°μ„ μμ„)
- **app2.py**: ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ (FAISS + BM25 μ•™μƒλΈ”)
- **app3.py**: μ„Ήμ… μΈμ§€ + μ²­ν¬ λ²λ“¤λ§ (κ³ κΈ‰ μ»¨ν…μ¤νΈ κ΄€λ¦¬)

π“– **μμ„Έν• μ„¤λ…**: [appμ±—λ΄‡.md](appμ±—λ΄‡.md)

### 2. **ν¬λ΅¤λ§ μ‹μ¤ν…**
- **req2.py**: λ³µμ§€μ©κµ¬ κ³µμ§€μ‚¬ν•­ ν¬λ΅¤λ§ (μ»¤λ®¤λ‹ν‹° ν‚¤: B0022)
- **req3.py**: λ³µμ§€μ©κµ¬ λ²•λ Ήμλ£μ‹¤ ν¬λ΅¤λ§ (μ»¤λ®¤λ‹ν‹° ν‚¤: B0018)

π“– **μμ„Έν• μ„¤λ…**: [req2ν¬λ΅¤λ¬.md](req2ν¬λ΅¤λ¬.md), [req3ν¬λ΅¤λ¬.md](req3ν¬λ΅¤λ¬.md)

### 3. **ν…μ¤νΈ μ¶”μ¶ μ‹μ¤ν…**
- **good_all.py**: PDF/HWP/κΈ°νƒ€ λ¬Έμ„ ν…μ¤νΈ μ¶”μ¶ λ° JSON λ³€ν™
- μ§€μ› ν•μ‹: PDF(ν…μ¤νΈ+OCR), HWP, XLSX, XLS, ZIP

π“– **μμ„Έν• μ„¤λ…**: [good_allν…μ¤νΈμ¶”μ¶.md](good_allν…μ¤νΈμ¶”μ¶.md)

## π“‹ λ°μ΄ν„° νλ¦„

```
1. ν¬λ΅¤λ§ (req2.py, req3.py)
   β†“
2. μ²¨λ¶€νμΌ λ‹¤μ΄λ΅λ“ (PDF, HWP, XLSX λ“±)
   β†“
3. ν…μ¤νΈ μ¶”μ¶ (good_all.py)
   β†“
4. JSON λ°μ΄ν„° μƒμ„±
   β†“
5. λ²΅ν„° μΈλ±μ‹± (FAISS)
   β†“
6. RAG μ±—λ΄‡ μ‘λ‹µ
```

## π“ μ£Όμ” λ°μ΄ν„° νμΌ

| νμΌλ… | μ„¤λ… | ν¬λ΅¤λ§ μ†μ¤ |
|--------|------|-------------|
| `rag_input_sample.json` | κ³µμ§€μ‚¬ν•­ ν…μ¤νΈν™” κ²°κ³Ό | req2.py (λ³µμ§€μ©κµ¬ κ³µμ§€μ‚¬ν•­) |
| `rag_input_sample1.json` | λ²•λ Ήμλ£μ‹¤ ν…μ¤νΈν™” κ²°κ³Ό | req3.py (λ³µμ§€μ©κµ¬ λ²•λ Ήμλ£μ‹¤) |
| `noin3_data.json` | noin3.pdf ν…μ¤νΈν™” κ²°κ³Ό | μλ™ PDF μ²λ¦¬ |

## π› οΈ κΈ°μ  μ¤νƒ

- **λ°±μ—”λ“**: Flask, Python
- **AI/ML**: OpenAI GPT-4, LangChain, FAISS
- **ν¬λ΅¤λ§**: requests, BeautifulSoup
- **λ¬Έμ„ μ²λ¦¬**: PyMuPDF, olefile, pytesseract
- **κ²€μƒ‰**: BM25, MMR, Ensemble Retrieval
- **λ°μ΄ν„°**: JSON, CSV, FAISS λ²΅ν„° μΈλ±μ¤

## π€ μ‹μ‘ν•κΈ°

### 1. ν™κ²½ μ„¤μ •
```bash
pip install -r requirements.txt
```

### 2. ν¬λ΅¤λ§ μ‹¤ν–‰
```bash
# κ³µμ§€μ‚¬ν•­ ν¬λ΅¤λ§
python crawlers/req2.py

# λ²•λ Ήμλ£μ‹¤ ν¬λ΅¤λ§
python crawlers/req3.py
```

### 3. ν…μ¤νΈ μ¶”μ¶
```bash
python good_all.py
```

### 4. μ±—λ΄‡ μ‹¤ν–‰
```bash
# κΈ°λ³Έ λ²„μ „
python app.py

# μµμ ν™” λ²„μ „
python app1.py

# ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ λ²„μ „
python app2.py

# μ„Ήμ… μΈμ§€ λ²„μ „
python app3.py
```

## π“ λ¬Έμ„

- [μ±—λ΄‡ μ•± λ°μ „ κ³Όμ •](appμ±—λ΄‡.md)
- [κ³µμ§€μ‚¬ν•­ ν¬λ΅¤λ¬ μ„¤λ…](req2ν¬λ΅¤λ¬.md)
- [λ²•λ Ήμλ£μ‹¤ ν¬λ΅¤λ¬ μ„¤λ…](req3ν¬λ΅¤λ¬.md)
- [ν…μ¤νΈ μ¶”μ¶ νμ΄ν”„λΌμΈ](good_allν…μ¤νΈμ¶”μ¶.md)

## π”§ μ„¤μ •

- `.env` νμΌμ— OpenAI API ν‚¤ μ„¤μ • ν•„μ”
- Tesseract OCR μ„¤μΉ ν•„μ” (ν•κΈ€ μΈμ‹μ©)
- ν•μ»΄μ¤ν”Όμ¤ μ„¤μΉ ν•„μ” (HWP λ³€ν™μ©)

## π“ λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” κµμ΅ λ° μ—°κµ¬ λ©μ μΌλ΅ μ μ‘λμ—μµλ‹λ‹¤.

## π¤ κΈ°μ—¬

ν”„λ΅μ νΈ κ°μ„ μ„ μ„ν• μ μ•μ΄λ‚ λ²„κ·Έ λ¦¬ν¬νΈλ” μ–Έμ λ“  ν™μν•©λ‹λ‹¤!
